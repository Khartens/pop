"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var s=0;s<t.length;s++){var a=t[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,s){return t&&_defineProperties(e.prototype,t),s&&_defineProperties(e,s),e}var VanillaTabs=function(){function t(e){_classCallCheck(this,t),this.options=Object.assign({selector:".tabs",type:"horizontal",responsiveBreak:840,activeIndex:0},e),this.elems=document.querySelectorAll(this.options.selector),this.skipIfInitialized=function(e){e.classList.contains("tabs__initialized")},this.buildUI(),this.handleNavigation(),this.handleResponsive()}return _createClass(t,[{key:"buildUI",value:function(){var v=this;this.elems.forEach(function(e,t){var s=e.childNodes,a=[],i=v.options.type;v.skipIfInitialized(e),e.classList.add("style__"+v.options.type),e.classList.add("tabs__initialized");for(var n=0;n<s.length;n++){var l,r,c=s[n];c.nodeType!=Node.TEXT_NODE&&(c.classList.add("tabs__content"),l=c.dataset.title||"",a.push(l),r=c.innerHTML,c.innerHTML='<div class="tabs__content_wrapper">'+r+"</div>",c.insertAdjacentHTML("afterbegin",'<a class="tabs__nav_link">'+l+"</a>"))}var o="",_=(a.forEach(function(e){o=o+'<a class="tabs__nav_link">'+e+"</a>"}),e.insertAdjacentHTML("afterbegin",'<li class="tabs__nav">'+o+"</li>"),Number(v.options.activeIndex));"accordion"!=i&&-1!=_&&(a.length-1<_&&(console.warn("VANILLA TABS: Active tab number from settings is bigger than tabs count. Please remember, that index starts from Zero! To avoid crashes, activeIndex option was reverted to 0."),_=0),e.querySelectorAll(".tabs__nav > .tabs__nav_link")[_].classList.add("is__active"),e.querySelectorAll(".tabs__content")[_].classList.add("is__active"),e.querySelectorAll(".tabs__content > .tabs__nav_link")[_].classList.add("is__active"))})}},{key:"handleNavigation",value:function(){var s=this,e=this.elems,r=this.options.type;e.forEach(function(e,t){var l=e;s.skipIfInitialized(l),l.addEventListener("click",function(e){if(e.target&&e.target.classList.contains("tabs__nav_link")){e.preventDefault(),t="tabs__nav"==e.target.parentElement.classList?Array.prototype.slice.call(e.target.parentElement.children).indexOf(e.target):Array.prototype.slice.call(e.target.parentElement.parentElement.children).indexOf(e.target.parentElement)-1;var t,s=l.getElementsByClassName("tabs__content"),a=l.querySelectorAll(".tabs__nav > .tabs__nav_link"),i=l.querySelectorAll(".tabs__content > .tabs__nav_link");if(("accordion"==r||l.classList.contains("is__responsive"))&&e.target.classList.contains("is__active"))s[t].classList.remove("is__active"),a[t].classList.remove("is__active"),i[t].classList.remove("is__active");else{for(var n=0;n<s.length;n++)s[n].classList.remove("is__active");s[t].classList.add("is__active"),a.forEach(function(e){e.classList.remove("is__active")}),a[t].classList.add("is__active"),i.forEach(function(e){e.classList.remove("is__active")}),i[t].classList.add("is__active")}}})})}},{key:"handleResponsive",value:function(){var n=this,e=this.elems,l=this.options.type;window.addEventListener("resize",function(){e.forEach(function(e,t){var s=e.getElementsByClassName("tabs__content"),a=e.querySelectorAll(".tabs__nav > .tabs__nav_link"),i=e.querySelectorAll(".tabs__content > .tabs__nav_link");n.skipIfInitialized(e),window.innerWidth>Number(n.options.responsiveBreak)?(e.classList.remove("is__responsive"),"accordion"!=l&&0==e.querySelectorAll(".tabs__nav_link.is__active").length&&(s[0].classList.add("is__active"),a[0].classList.add("is__active"),i[0].classList.add("is__active"))):e.classList.add("is__responsive")})}),window.dispatchEvent(new Event("resize"))}}]),t}();